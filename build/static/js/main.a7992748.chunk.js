(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5415:function(e,t,a){e.exports=a(5554)},5420:function(e,t,a){},5421:function(e,t,a){},5422:function(e,t,a){},5423:function(e,t,a){},5554:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),i=a(16),o=a.n(i),c=(a(5420),a(45)),r=a(46),u=a(48),s=a(47),d=a(49),m=(a(5421),a(123)),p=a(125),f=(a(5422),a(9)),h=(a(5423),a(34)),C=a(23),E=a.n(C),g=function(e){var t=e.position,a=e.onCheck,n=e.onEdit,i=e.onDelete,o=e.onMove,c=e.data,r=c.id,u=c.title,s=c.date,d=c.checked,m=E()(s).diff(E()(),"days"),p="common";return m<0?p="expired":m<3&&(p="upcoming"),l.a.createElement(f.h,{key:r,className:d?"completed":p},l.a.createElement(f.b,{checked:d,onClick:a}),l.a.createElement(f.i,{primary:u,className:"list-item_title"}),l.a.createElement(f.i,{secondary:s}),l.a.createElement(f.a,{className:"button",onClick:function(){return o(r,"down")},disabled:"last"===t||"only"===t},l.a.createElement(h.c,null)),l.a.createElement(f.a,{className:"button",onClick:function(){return o(r,"up")},disabled:"first"===t||"only"===t},l.a.createElement(h.d,null)),l.a.createElement(f.a,{className:"button",onClick:n},l.a.createElement(h.b,null)),l.a.createElement(f.a,{className:"button",onClick:i},l.a.createElement(h.a,null)))},k=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(s.a)(t).call(this))).onCreate=function(){e.setState({isTaskDialogOpen:!0,editableItemId:""})},e.closeDialog=function(){e.setState({isTaskDialogOpen:!1,titleInputValue:"",dateInputValue:E()().format("YYYY-MM-DD"),descriptionInputValue:""})},e.onSave=function(){var t=e.state,a=t.titleInputValue,n=t.descriptionInputValue,l=t.dateInputValue,i=t.data,o=t.editableItemId,c={id:o||Date.now(),title:a,date:l,description:n,checked:!1};if(o){var r=e.deepClone(e.state.data),u=r.find(function(e){return e.id===o});Object.assign(u,{title:a,date:l,description:n}),e.setState({data:r},e.updateLocalStorage)}else e.setState({data:[c].concat(Object(p.a)(i))},e.updateLocalStorage);e.closeDialog()},e.onEdit=function(t){var a=e.state.data.find(function(e){return e.id===t});e.setState({editableItemId:t,titleInputValue:a.title,dateInputValue:a.date,descriptionInputValue:a.description,isTaskDialogOpen:!0})},e.onDelete=function(t){var a=e.state.data.find(function(e){return e.id===t});e.setState({isConfirmationOpen:!0,itemToDelete:e.deepClone(a)})},e.onDeleteConfirm=function(){var t=e.deepClone(e.state.data),a=t.findIndex(function(t){return t.id===e.state.itemToDelete.id});t.splice(a,1),e.setState({isConfirmationOpen:!1,data:t,itemToDelete:null},e.updateLocalStorage)},e.onDeleteCancel=function(){e.setState({isConfirmationOpen:!1,itemToDelete:null})},e.updateLocalStorage=function(){localStorage.setItem("data",JSON.stringify(e.state.data))},e.handleChange=function(t){return function(a){e.setState(Object(m.a)({},t,a.target.value))}},e.resetDialogState=function(){e.setState({titleInputValue:"",dateInputValue:E()().format("YYYY-MM-DD"),descriptionInputValue:""})},e.deepClone=function(e){return JSON.parse(JSON.stringify(e))},e.onCheck=function(t){var a=e.deepClone(e.state.data),n=a.find(function(e){return e.id===t});n.checked=!n.checked,e.setState({data:a},e.updateLocalStorage)},e.onMove=function(t,a){var n=e.deepClone(e.state.data),l=n.findIndex(function(e){return e.id===t});if("up"===a){if(0!==l){var i=[n[l],n[l-1]];n[l-1]=i[0],n[l]=i[1]}}else if(l!==e.state.data.length-1){var o=[n[l+1],n[l]];n[l]=o[0],n[l+1]=o[1]}e.setState({data:n},e.updateLocalStorage)},e.state={data:[],isTaskDialogOpen:!1,isConfirmationOpen:!1,titleInputValue:"",dateInputValue:E()().format("YYYY-MM-DD"),descriptionInputValue:"",dialogTitle:"",editableItemId:"",itemToDelete:null},e}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("data"))||[];this.setState({data:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.isTaskDialogOpen,i=t.isConfirmationOpen,o=t.titleInputValue,c=t.descriptionInputValue,r=t.dateInputValue,u=t.itemToDelete;return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.j,{className:"main"},l.a.createElement(f.a,{variant:"outlined",color:"primary",size:"medium",className:"add-new-task",onClick:this.onCreate},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),l.a.createElement(f.g,{className:"list"},a.map(function(t,n){return l.a.createElement(g,{data:t,key:t.id,onCheck:function(){return e.onCheck(t.id)},onEdit:function(){return e.onEdit(t.id)},onDelete:function(){return e.onDelete(t.id)},onMove:e.onMove,position:1===a.length?"only":0===n?"first":n===a.length-1?"last":"middle"})}))),l.a.createElement(f.c,{open:n,onClose:this.closeDialog},l.a.createElement(f.f,{className:"task-dialog-header"},this.state.editableItemId?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435"),l.a.createElement(f.e,null,l.a.createElement("div",{className:"title-and-date"},l.a.createElement(f.k,{label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",variant:"outlined",className:"title-input",value:o,onChange:this.handleChange("titleInputValue")}),l.a.createElement(f.k,{label:"Deadline",variant:"outlined",type:"date",value:r,onChange:this.handleChange("dateInputValue"),required:!0})),l.a.createElement(f.k,{multiline:!0,fullWidth:!0,label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",variant:"outlined",value:c,onChange:this.handleChange("descriptionInputValue"),rowsMax:6})),l.a.createElement(f.d,null,l.a.createElement(f.a,{color:"secondary",onClick:this.closeDialog},"\u041e\u0442\u043c\u0435\u043d\u0430"),l.a.createElement(f.a,{color:"primary",onClick:this.onSave},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))),l.a.createElement(f.c,{open:i,onClose:this.onDeleteCancel,onCancel:this.onDeleteCancel,onConfirm:this.onDeleteConfirm},l.a.createElement(f.f,{className:"confirmation-header"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"),l.a.createElement(f.e,null,l.a.createElement("div",null,l.a.createElement("p",{className:"confirmation-text"},"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0431\u0435\u0437\u0432\u043e\u0437\u0432\u0440\u0430\u0442\u043d\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u0443 \u0437\u0430\u0434\u0430\u0447\u0443?"),l.a.createElement("p",null,u&&u.title))),l.a.createElement(f.d,null,l.a.createElement(f.a,{onClick:this.onDeleteCancel},"\u041d\u0435\u0442"),l.a.createElement(f.a,{onClick:this.onDeleteConfirm},"\u0414\u0430"))))}}]),t}(l.a.Component),D=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"app"},l.a.createElement(k,null))}}]),t}(l.a.Component);o.a.render(l.a.createElement(D,null),document.getElementById("root"))}},[[5415,1,2]]]);
//# sourceMappingURL=main.a7992748.chunk.js.map