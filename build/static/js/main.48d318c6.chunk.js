(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5415:function(e,t,a){e.exports=a(5554)},5420:function(e,t,a){},5421:function(e,t,a){},5422:function(e,t,a){},5423:function(e,t,a){},5554:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),l=a(16),o=a.n(l),c=(a(5420),a(43)),r=a(44),u=a(46),d=a(45),s=a(47),p=(a(5421),a(122)),m=a(124),f=(a(5422),a(14)),h=(a(5423),a(48)),g=a(23),I=a.n(g),k=function(e){var t=e.position,a=e.onCheck,n=e.onEdit,l=e.onMove,o=e.data,c=o.id,r=o.title,u=o.date,d=o.checked,s=I()(u).diff(I()(),"days"),p="common";return s<0?p="expired":s<3&&(p="upcoming"),i.a.createElement(f.h,{key:c,className:d?"completed":p},i.a.createElement(f.b,{checked:d,onClick:a}),i.a.createElement(f.i,{primary:r,className:"list-item_title"}),i.a.createElement(f.i,{secondary:u}),i.a.createElement(f.a,{className:"button",onClick:function(){return l(c,"down")},disabled:"last"===t},i.a.createElement(h.b,null)),i.a.createElement(f.a,{className:"button",onClick:function(){return l(c,"up")},disabled:"first"===t},i.a.createElement(h.c,null)),i.a.createElement(f.a,{className:"button",onClick:n},i.a.createElement(h.a,null)))},E=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).onCreate=function(){e.setState({isTaskDialogOpen:!0,editableItemId:""})},e.closeDialog=function(){e.setState({isTaskDialogOpen:!1,titleInputValue:"",dateInputValue:I()().format("YYYY-MM-DD"),descriptionInputValue:""})},e.onSave=function(){var t=e.state,a=t.titleInputValue,n=t.descriptionInputValue,i=t.dateInputValue,l=t.data,o=t.editableItemId,c={id:o||Date.now(),title:a,date:i,description:n,checked:!1};if(o){var r=e.deepClone(e.state.data),u=r.find(function(e){return e.id===o});Object.assign(u,{title:a,date:i,description:n}),e.setState({data:r},e.updateLocalStorage)}else e.setState({data:[c].concat(Object(m.a)(l))},e.updateLocalStorage);e.closeDialog()},e.onEdit=function(t){var a=e.state.data.find(function(e){return e.id===t});e.setState({editableItemId:t,titleInputValue:a.title,dateInputValue:a.date,descriptionInputValue:a.description,isTaskDialogOpen:!0})},e.updateLocalStorage=function(){localStorage.setItem("data",JSON.stringify(e.state.data))},e.handleChange=function(t){return function(a){e.setState(Object(p.a)({},t,a.target.value))}},e.resetDialogState=function(){e.setState({titleInputValue:"",dateInputValue:I()().format("YYYY-MM-DD"),descriptionInputValue:""})},e.deepClone=function(e){return JSON.parse(JSON.stringify(e))},e.onCheck=function(t){var a=e.deepClone(e.state.data),n=a.find(function(e){return e.id===t});n.checked=!n.checked,e.setState({data:a},e.updateLocalStorage)},e.onMove=function(t,a){var n=e.deepClone(e.state.data),i=n.findIndex(function(e){return e.id===t});if("up"===a){if(0!==i){var l=[n[i],n[i-1]];n[i-1]=l[0],n[i]=l[1]}}else if(i!==e.state.data.length-1){var o=[n[i+1],n[i]];n[i]=o[0],n[i+1]=o[1]}e.setState({data:n},e.updateLocalStorage)},e.state={data:[],isTaskDialogOpen:!1,titleInputValue:"",dateInputValue:I()().format("YYYY-MM-DD"),descriptionInputValue:"",dialogTitle:"",editableItemId:""},e}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("data"))||[];this.setState({data:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.isTaskDialogOpen,l=t.titleInputValue,o=t.descriptionInputValue,c=t.dateInputValue;return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.j,{className:"main"},i.a.createElement(f.a,{variant:"outlined",color:"primary",size:"medium",className:"add-new-task",onClick:this.onCreate},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),i.a.createElement(f.g,{className:"list"},a.map(function(t,n){return i.a.createElement(k,{data:t,key:t.id,onCheck:function(){return e.onCheck(t.id)},onEdit:function(){return e.onEdit(t.id)},onMove:e.onMove,position:0===n?"first":n===a.length-1?"last":"middle"})}))),i.a.createElement(f.c,{open:n,onClose:this.closeDialog,className:"dialog"},i.a.createElement(f.f,{className:"task-dialog-header"},this.state.editableItemId?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435"),i.a.createElement(f.e,null,i.a.createElement("div",{className:"title-and-date"},i.a.createElement(f.k,{label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",variant:"outlined",className:"title-input",value:l,onChange:this.handleChange("titleInputValue")}),i.a.createElement(f.k,{label:"Deadline",variant:"outlined",type:"date",value:c,onChange:this.handleChange("dateInputValue"),required:!0})),i.a.createElement(f.k,{multiline:!0,fullWidth:!0,label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",variant:"outlined",value:o,onChange:this.handleChange("descriptionInputValue"),rowsMax:6})),i.a.createElement(f.d,null,i.a.createElement(f.a,{color:"secondary",onClick:this.closeDialog},"\u041e\u0442\u043c\u0435\u043d\u0430"),i.a.createElement(f.a,{color:"primary",onClick:this.onSave},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))}}]),t}(i.a.Component),v=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"app"},i.a.createElement(E,null))}}]),t}(i.a.Component);o.a.render(i.a.createElement(v,null),document.getElementById("root"))}},[[5415,1,2]]]);
//# sourceMappingURL=main.48d318c6.chunk.js.map